je_trans_siberian_railway = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	group = je_group_historical_content

	is_shown_when_inactive = {
		is_player = yes
		NOT = { has_global_variable = trans_siberian_done }
		owns_entire_state_region = STATE_MOSCOW
		any_state = {
			filter = {
				OR = {
					region = sr:region_east_siberia
					region = sr:region_west_siberia
				}
			}
			percent > 0.8
			owner = ROOT
		}
	}

	possible = {
		has_technology_researched = railways
	}

	complete = {
		any_scope_state = {
			filter = {
				OR = {
					state_region = s:STATE_MOSCOW
					state_region = s:STATE_YAROSLAVL
					state_region = s:STATE_NIZHNY_NOVGOROD
					state_region = s:STATE_CHUVASHIA
					state_region = s:STATE_KAZAN
					state_region = s:STATE_UFA
					state_region = s:STATE_CHELYABINSK
					state_region = s:STATE_URAL
					state_region = s:STATE_TOBOLSK
					state_region = s:STATE_TOMSK
					state_region = s:STATE_KRASNOYARSK
					state_region = s:STATE_IRKUTSK
					state_region = s:STATE_BURYATIA
					state_region = s:STATE_TRANS_BAIKAL
				}
			}
			has_building = building_railway
			percent = 1
		}
		OR = {
			AND = {
				any_scope_state = {
					state_region = s:STATE_YAKUTSK
					has_building = building_railway
				}
				any_scope_state = {
					state_region = s:STATE_OKHOTSK
					has_building = building_railway
				}
			}
			AND = {
				any_scope_state = {
					state_region = s:STATE_AMUR
					has_building = building_railway
				}
				any_scope_state = {
					state_region = s:STATE_OUTER_MANCHURIA
					has_building = building_railway
				}
			}
		}
	}

	on_complete = {
		set_global_variable = trans_siberian_done
		trigger_event = { id = major_railways.1 }
	}

	weight = 50
}
