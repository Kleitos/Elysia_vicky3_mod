namespace = italian_unification
namespace = italian_unification_idea
namespace = ely_italian_unification
namespace = ely_venice_humiliation
namespace = ely_italian_war

# Unified italian_unification
italian_unification.1 = {
	type = country_event
	placement = ROOT

	title = italian_unification.1.t
	desc = italian_unification.1.d
	flavor = italian_unification.1.f

	event_image = {
		video = "votp_garibaldi"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		ruler.interest_group = {
			save_scope_as = ruler_ig_scope
		}
		s:STATE_SARDINIA = {
			add_claim = ROOT
		}	
		s:STATE_MALTA = {
			add_claim = ROOT
		}	
		s:STATE_CORSICA = {
			add_claim = ROOT
		}	
	}

	option = {
		name = italian_unification.1.a
		default_option = yes
		give_claims_on_italy = yes

		# prestige
		add_modifier = {
			name = italian_unifier_prestige
			days = long_modifier_time
		}
		add_journal_entry = { type = je_cultural_shift_ita }
	}
	option = {
		name = italian_unification.1.b
		give_claims_on_italy = yes

		# ruler IG attraction
		scope:ruler_ig_scope = {
			add_modifier = {
				name = italian_unifiers_ig
				days = long_modifier_time
			}
		}
		add_journal_entry = { type = je_cultural_shift_ita }
	}
}

italian_unification_idea.1 = {
	type = country_event
	placement = ROOT

	title = italian_unification_idea.1.t
	desc = italian_unification_idea.1.d
	flavor = italian_unification_idea.1.f

	event_image = {
		video = "votp_garibaldi"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 3

	trigger = {
	}

	immediate = {
	}

	option = {
		name = italian_unification_idea.1.a
		default_option = yes
		add_journal_entry = { type = je_ita_spread_radicals_ven }
		add_journal_entry = { type = je_ita_annex_radicals_ven }
		add_journal_entry = { type = je_ita_spread_radicals_tus }
		add_journal_entry = { type = je_ita_annex_radicals_tus }
		add_journal_entry = { type = je_ita_conquer_nap }
		add_journal_entry = { type = je_kick_spain_out_ita }
		give_claims_on_italy = yes
		add_modifier = {
			name = italian_revolution_fervour
			days = long_modifier_time
		}
		s:STATE_SARDINIA = {
			add_claim = ROOT
		}	
		s:STATE_MALTA = {
			add_claim = ROOT
		}	
		s:STATE_CORSICA = {
			add_claim = ROOT
		}	
	}
}

italian_unification_idea.2 = {
	type = country_event
	placement = ROOT

	title = italian_unification_idea.2.t
	desc = italian_unification_idea.2.d
	flavor = italian_unification_idea.2.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 1

	trigger = {
	}

	immediate = {

	}

	option = {
		name = italian_unification_idea.2.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		give_claims_on_italy = yes
		add_journal_entry = { type = je_risorgimento }
	}
}

italian_unification_idea.3 = {
	type = country_event
	placement = ROOT

	title = italian_unification_idea.3.t
	desc = italian_unification_idea.3.d
	flavor = italian_unification_idea.3.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 1

	trigger = {
	}

	immediate = {

	}

	option = {
		name = italian_unification_idea.3.a
		default_option = yes
		give_claims_on_italy = yes
		add_journal_entry = { type = je_risorgimento }
	}

	option = {
		name = italian_unification_idea.3.b
		default_option = yes
		ai_chance = {
			base = 100
		}
		add_journal_entry = { type = je_risorgimento }
		c:PAP = {	
			trigger_event = { id = italian_unification_idea.1 }
		}
		activate_law = law_type:law_presidential_republic
		activate_law = law_type:law_census_voting
		activate_law = law_type:law_freedom_of_conscience
		activate_law = law_type:law_professional_army
		activate_law = law_type:law_per_capita_based_taxation
		activate_law = law_type:law_interventionism
		activate_law = law_type:law_protectionism
		activate_law = law_type:law_dedicated_police
		activate_law = law_type:law_right_of_assembly
		activate_law = law_type:law_homesteading
		activate_law = law_type:law_public_schools
		ig_petty_bourgeoisie = {
			leader = {
				kill_character = yes
			}
		}
		ig_intelligentsia = {
			leader = {
				kill_character = yes
			}
		}
		ig_armed_forces = {
			leader = {
				kill_character = yes
			}
		}
		ig_rural_folk = {
			leader = {
				kill_character = yes
			}
		}
		create_character = {
			template = pap_template_francesco_crispi
			on_created = {
				set_variable = memento_mori_immunity
			}
		}
		create_character = {
			template = pap_template_giuseppe_mazzini
		}
		create_character = {
			template = garibaldi_character_template
			on_created = {
				set_variable = memento_mori_immunity
			}
		}
		create_character = {
			template = fra_napoleon_iii_character_template
			on_created = {
				set_variable = memento_mori_immunity
			}
		}
		add_modifier = {
			name = italian_revolution
			days = long_modifier_time
		}
		hidden_effect = {
		add_loyalists = {
			pop_type = academics
			value = very_large_radicals
		}
		add_loyalists = {
			pop_type = bureaucrats
			value = very_large_radicals
		}
		add_loyalists = {
			pop_type = clerks
			value = very_large_radicals
		}
		add_loyalists = {
			pop_type = farmers
			value = very_large_radicals
		}
		add_loyalists = {
			pop_type = laborers
			value = very_large_radicals
		}
		add_loyalists = {
			pop_type = officers
			value = very_large_radicals
		}
		add_loyalists = {
			pop_type = peasants
			value = very_large_radicals
		}
		add_loyalists = {
			pop_type = shopkeepers
			value = very_large_radicals
		}
		add_loyalists = {
			pop_type = soldiers
			value = very_large_radicals
		}
		add_radicals = {
			pop_type = aristocrats
			value = very_large_radicals
		}
		add_radicals = {
			pop_type = clergymen
			value = very_large_radicals
		}
		}
	}
}

# Unified North
ely_italian_unification.1 = {
	type = country_event
	placement = ROOT

	title = ely_italian_unification.1.t
	desc = ely_italian_unification.1.d
	flavor = ely_italian_unification.1.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 1

	trigger = {
	}

	immediate = {

	}

	option = {
		name = ely_italian_unification.1.a
		ai_chance = {
			base = 100
		}
		default_option = yes
		add_loyalists = {
			culture = cu:north_italian
			value = very_large_radicals
		}
		add_modifier = {
			name = venician_trade_legacy
			months = -1
		}
	}
}

ely_italian_unification.2 = {
	type = country_event
	placement = ROOT

	title = ely_italian_unification.2.t
	desc = ely_italian_unification.2.d
	flavor = ely_italian_unification.2.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 1

	trigger = {
	}

	immediate = {

	}

	option = {
		name = ely_italian_unification.2.a
		ai_chance = {
			base = 100
		}
		default_option = yes
		add_loyalists = {
			culture = cu:north_italian
			value = very_large_radicals
		}
		add_modifier = {
			name = tuscan_enlightenment
			months = -1
		}
	}
}

ely_italian_unification.6 = {
	type = country_event
	placement = ROOT

	title = ely_italian_unification.6.t
	desc = ely_italian_unification.6.d
	flavor = ely_italian_unification.6.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 1

	trigger = {
	}

	immediate = {

	}

	option = {
		name = ely_italian_unification.6.a
		ai_chance = {
			base = 100
		}
		default_option = yes
		add_loyalists = {
			culture = cu:south_italian
			value = very_large_radicals
		}
		add_modifier = {
			name = napolitan_legacy
			months = -1
		}
	}
}



# Annex an Italian country
ely_italian_unification.4 = {
	type = country_event
	placement = ROOT

	title = ely_italian_unification.4.t
	desc = ely_italian_unification.4.d
	flavor = ely_italian_unification.4.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		c:VEN = {
			every_scope_state = {
				limit = {
					is_incorporated = yes
				}
				set_variable = VEN_incorporated_state
			}
		}
	}

	option = {
		name = ely_italian_unification.4.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		change_infamy = 10
		annex = c:VEN
		every_scope_state = {
			limit = {
				owner = ROOT
				has_variable = VEN_incorporated_state
			}
			set_state_type = incorporated
		}
	}
}
ely_italian_unification.5 = {
	type = country_event
	placement = ROOT

	title = ely_italian_unification.5.t
	desc = ely_italian_unification.5.d
	flavor = ely_italian_unification.5.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		c:TUS = {
			every_scope_state = {
				limit = {
					is_incorporated = yes
				}
				set_variable = TUS_incorporated_state
			}
		}
	}

	option = {
		name = italian_unification.5.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		change_infamy = 10
		annex = c:TUS
		every_scope_state = {
			limit = {
				owner = ROOT
				has_variable = TUS_incorporated_state
			}
			set_state_type = incorporated
		}
	}
}

# Country gets taken over by pan-nationalists and wants to join us
ely_italian_unification.3 = {
	type = country_event
	placement = ROOT

	title = ely_italian_unification.3.t
	desc = ely_italian_unification.3.d
	flavor = ely_italian_unification.3.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 1

	trigger = {
	}

	immediate = {

	}

	option = {
		name = ely_italian_unification.3.a
		ai_chance = {
			base = 100
		}
		default_option = yes
		add_radicals = {
			culture = cu:north_italian
			value = very_large_radicals
		}
	}
}

ely_venice_humiliation.1 = {
	type = country_event
	placement = ROOT

	title = ely_venice_humiliation.1.t
	desc = ely_venice_humiliation.1.d
	flavor = ely_venice_humiliation.1.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 1

	trigger = {
	}

	immediate = {

	}

	option = {
		name = ely_venice_humiliation.1.a
		ai_chance = {
			base = 100
		}
		default_option = yes
		add_radicals = {
			culture = cu:north_italian
			value = very_large_radicals
		}
	}
}

ely_italian_war.1 = {
	type = country_event
	placement = ROOT
	title = ely_italian_war.1.t
	desc = ely_italian_war.1.d
	flavor = ely_italian_war.1.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_springtime_of_nations.bk2"
	}

	duration = 3

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/bicorne_hat.dds"

	trigger = {
	}

	immediate = {
		c:PAP = {
			change_relations = {
				country = c:OCC
				value = -100
			}
			change_relations = {
				country = c:IBE
				value = -100
			}
			change_relations = {
				country = c:SIC
				value = -100
			}
			set_secret_goal = {
				country = c:IBE
				secret_goal = antagonize
			}
		}
		c:IBE = {
			change_relations = {
				country = c:PAP
				value = -100
			}
			set_secret_goal = {
				country = c:PAP
				secret_goal = antagonize
			}
		}
	}

	option = {
		name = ely_italian_war.1.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		create_diplomatic_play = {
			target_country = c:SIC
			war = no
			escalation = 81
			type = dp_return_state
			target_state = s:STATE_APULIA.region_state:SIC
			add_war_goal = {
				holder = c:PAP
				type = return_state
				target_state = s:STATE_ABRUZZO.region_state:SIC
				target_country = c:SIC
			}
			add_war_goal = {
				holder = c:PAP
				type = return_state
				target_state = s:STATE_CALABRIA.region_state:SIC
				target_country = c:SIC
			}
			add_war_goal = {
				holder = c:PAP
				type = return_state
				target_state = s:STATE_CAMPANIA.region_state:SIC
				target_country = c:SIC
			}
			add_war_goal = {
				holder = c:PAP
				type = return_state
				target_state = s:STATE_SICILY.region_state:SIC
				target_country = c:SIC
			}
			add_war_goal = {
				holder = c:SIC
				type = return_state
				target_state = s:STATE_ROMAGNA.region_state:PAP
				target_country = c:PAP
			}
			add_war_goal = {
				holder = c:SIC
				type = return_state
				target_state = s:STATE_LAZIO.region_state:PAP
				target_country = c:PAP
			}
			add_war_goal = {
				holder = c:SIC
				type = return_state
				target_state = s:STATE_UMBRIA.region_state:PAP
				target_country = c:PAP
			}
			add_war_goal = {
				holder = c:SIC
				type = return_state
				target_state = s:STATE_TUSCANY.region_state:PAP
				target_country = c:PAP
			}
			add_war_goal = {
				holder = c:SIC
				type = return_state
				target_state = s:STATE_EMILIA.region_state:PAP
				target_country = c:PAP
			}
			add_war_goal = {
				holder = c:SIC
				type = return_state
				target_state = s:STATE_ISTRIA.region_state:PAP
				target_country = c:PAP
			}
			add_war_goal = {
				holder = c:SIC
				type = return_state
				target_state = s:STATE_LOMBARDY.region_state:PAP
				target_country = c:PAP
			}
			add_war_goal = {
				holder = c:SIC
				type = return_state
				target_state = s:STATE_PIEDMONT.region_state:PAP
				target_country = c:PAP
			}
			add_war_goal = {
				holder = c:SIC
				type = return_state
				target_state = s:STATE_VENETIA.region_state:PAP
				target_country = c:PAP
			}
		}
	}

	option = {
		name = ely_italian_war.1.b
	}
}

ely_italian_war.2 = {
	type = country_event
	placement = ROOT

	title = ely_italian_war.2.t
	desc = ely_italian_war.2.d
	flavor = ely_italian_war.2.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	duration = 1

	trigger = {
	}

	immediate = {

	}

	option = {
		name = ely_italian_war.2.a
		ai_chance = {
			base = 100
		}
		default_option = yes
		add_loyalists = {
			culture = cu:north_italian
			value = very_large_radicals
		}
		add_modifier = {
			name = italian_irredentia
			months = -1
		}
	}
}